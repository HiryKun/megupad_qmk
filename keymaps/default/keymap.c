/* Copyright 2022 HiryKun (@HiryKun)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 2 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
#include QMK_KEYBOARD_H

#include "animation.h"

const uint16_t PROGMEM keymaps[][MATRIX_ROWS][MATRIX_COLS] = {

  /* Keymap BASE: (Base Layer) Default Layer */
  [0] = LAYOUT(
 		TO(1), KC_NUM, KC_P0, KC_BSPC, 
		KC_P7, KC_P8, KC_P9, KC_PDOT, 
		KC_P4, KC_P5, KC_P6, 
		KC_P1, KC_P2, KC_P3, KC_PENT
    ),
  
  /* Keymap FUNCTION: (Function Layer)*/
  [1] = LAYOUT(
    	TO(2), KC_ESC, KC_PGUP, RESET, 
		KC_DEL, KC_MPLY, KC_PGDN, KC_PSCR, 
		KC_LSFT, KC_A, KC_SPC, 
		KC_LCTL, KC_C, KC_V, KC_PENT
    ),
  
  /* Keymap RGB: (RGB Layer) */
  [2] = LAYOUT(
    	TO(0), RGB_TOG, RGB_MOD, RGB_HUI,
    	RGB_VAI, RGB_SAI, RGB_SPI,RGB_HUD,
    	RGB_VAD, RGB_SAD, RGB_SPD,
    	KC_NO, KC_NO, KC_NO, KC_NO
    ),
};

/*Encoder Variables*/
bool encoder_update_user(uint8_t index, bool clockwise) {
  if (index == 0) { /* First encoder */
    switch (get_highest_layer(layer_state))
	{
	case 0:
		if (clockwise) {
      		tap_code(KC_DOWN);
    	} else {
      		tap_code(KC_UP);
    	}
		break;
	case 1:
		if (clockwise) {
      		tap_code(KC_RIGHT);
    	} else {
      		tap_code(KC_LEFT);
    	}
		break;
	case 2:
		if (clockwise) {
      		rgb_matrix_decrease_val();
    	} else {
      		rgb_matrix_increase_val();
    	}
	}
  }
  return false;
}

// /*RGB Matrix*/
led_config_t g_led_config = { {
    { NO_LED, 0, 1, 2 },
    { 6, 5, 4, 3 },
    { 7, 8, 9 },
    { 13, 12, 11, 10 }
}, {
    { 75, 0 }, { 149, 0 }, { 224, 0 }, { 224, 21 }, { 149, 21 }, { 75, 21 }, { 0, 21 }, { 0, 43 }, { 75, 43 }, { 149, 43 }, { 224, 53 }, { 149, 64 }, { 75, 64 }, { 0, 64 }
}, {
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
} };

/*OLED*/
#ifdef OLED_ENABLE

// static const char PROGMEM rhodes_logo[] = {
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xf8, 0xf8, 0xc0, 0xc0, 0xfc, 0xfc, 0xc0, 0xc0, 
// 	0xf8, 0xf8, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x04, 0xfc, 0xfc, 0x0c, 0x08, 0x98, 0xf0, 0x20, 0x00, 0x00, 0x04, 0xfc, 0xfc, 0x84, 0x80, 0x80, 
// 	0x80, 0x80, 0x84, 0xfc, 0xfc, 0x04, 0x80, 0xe0, 0x30, 0x08, 0x04, 0x04, 0x04, 0x04, 0x08, 0x30, 
// 	0xe0, 0x80, 0x04, 0xfc, 0xfc, 0x04, 0x04, 0x04, 0x0c, 0x18, 0x10, 0x60, 0xc0, 0x00, 0x04, 0xfc, 
// 	0xfc, 0x84, 0x84, 0x84, 0x8c, 0x00, 0x70, 0xc8, 0x84, 0x04, 0x04, 0x08, 0x10, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x0f, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
// 	0xff, 0x1f, 0x0f, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x40, 0x7f, 0x7f, 0x42, 0x07, 0x0d, 0x18, 0x30, 0x60, 0x40, 0x40, 0x7f, 0x7f, 0x40, 0x00, 0x00, 
// 	0x00, 0x00, 0x40, 0x7f, 0x7f, 0x40, 0x03, 0x0f, 0x18, 0x30, 0x40, 0x40, 0x40, 0x40, 0x30, 0x18, 
// 	0x0f, 0x03, 0x40, 0x7f, 0x7f, 0x40, 0x40, 0x40, 0x40, 0x60, 0x30, 0x1c, 0x07, 0x00, 0x40, 0x7f, 
// 	0x7f, 0x40, 0x40, 0x40, 0x61, 0x00, 0x10, 0x20, 0x41, 0x41, 0x43, 0x26, 0x1c, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
// 	0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x04, 0xfc, 0xfc, 0x04, 0x70, 0xc8, 0x84, 0x84, 0x04, 
// 	0x08, 0x10, 0x04, 0xfc, 0xfc, 0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xc0, 0x70, 0x1c, 0x70, 
// 	0xc0, 0x00, 0x00, 0x00, 0x04, 0xfc, 0xfc, 0x64, 0xc0, 0x80, 0x00, 0x00, 0x04, 0xfc, 0xfc, 0x04, 
// 	0x00, 0x04, 0xfc, 0xfc, 0x04, 0x04, 0x0c, 0x08, 0x18, 0x70, 0xc0, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x20, 0x20, 0x30, 0x3c, 0x3c, 0x3e, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 
// 	0x3f, 0x3f, 0x3f, 0x3f, 0x3e, 0x3c, 0x3c, 0x30, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x20, 0x3f, 0x3f, 0x20, 0x08, 0x10, 0x20, 0x21, 0x21, 
// 	0x13, 0x0e, 0x20, 0x3f, 0x3f, 0x20, 0x20, 0x20, 0x30, 0x20, 0x30, 0x1e, 0x07, 0x02, 0x02, 0x02, 
// 	0x07, 0x1e, 0x30, 0x20, 0x20, 0x3f, 0x3f, 0x20, 0x00, 0x01, 0x03, 0x06, 0x2c, 0x3f, 0x3f, 0x20, 
// 	0x00, 0x20, 0x3f, 0x3f, 0x20, 0x20, 0x30, 0x10, 0x18, 0x0e, 0x03, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
// };
static const char PROGMEM rhodes_Fn[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xf8, 0xf8, 0xc0, 0xc0, 0xfc, 0xfc, 0xc0, 0xc0, 
	0xf8, 0xf8, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x0f, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
	0xff, 0x1f, 0x0f, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0xfc, 0xfc, 0x0c, 0x0c, 0x0c, 0x0c, 0x0c, 0x0c, 0x00, 0xe0, 0xe0, 0x00, 0x00, 0x00, 0x00, 0xe0, 
	0xe0, 0x00, 0x00, 0x00, 0xe0, 0xc0, 0xc0, 0x60, 0x60, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x80, 0xc0, 
	0x60, 0x20, 0x60, 0x40, 0x00, 0x60, 0x60, 0xe0, 0xfc, 0x60, 0x60, 0x00, 0x00, 0x00, 0xec, 0xec, 
	0x00, 0x00, 0x00, 0x80, 0xc0, 0x60, 0x20, 0x60, 0xc0, 0x80, 0x00, 0x00, 0x00, 0xe0, 0xc0, 0xc0, 
	0x60, 0x60, 0xe0, 0xc0, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
	0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x7f, 0x7f, 0x03, 0x03, 0x03, 0x03, 0x03, 0x00, 0x00, 0x3f, 0x3f, 0x70, 0x60, 0x60, 0x30, 0x7f, 
	0x7f, 0x00, 0x00, 0x00, 0x7f, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x7f, 0x7f, 0x00, 0x0e, 0x3f, 0x20, 
	0x60, 0x40, 0x60, 0x30, 0x10, 0x00, 0x00, 0x3f, 0x7f, 0x60, 0x60, 0x20, 0x00, 0x00, 0x7f, 0x7f, 
	0x00, 0x00, 0x06, 0x1f, 0x30, 0x60, 0x40, 0x60, 0x30, 0x1f, 0x06, 0x00, 0x00, 0x7f, 0x7f, 0x00, 
	0x00, 0x00, 0x00, 0x7f, 0x7f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x20, 0x20, 0x30, 0x3c, 0x3c, 0x3e, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 
	0x3f, 0x3f, 0x3f, 0x3f, 0x3e, 0x3c, 0x3c, 0x30, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
// static const char PROGMEM rhodes_RGB[] = {
//     0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf8, 0xf8, 0xf8, 0xc0, 0xc0, 0xfc, 0xfc, 0xc0, 0xc0, 
// 	0xf8, 0xf8, 0xf8, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x0e, 0x0f, 0x1f, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
// 	0xff, 0x1f, 0x0f, 0x0e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0xfc, 0x0c, 0x0c, 
// 	0x0c, 0x0c, 0x0c, 0x9c, 0xf8, 0xf0, 0x00, 0x80, 0xe0, 0x70, 0x18, 0x1c, 0x0c, 0x0c, 0x0c, 0x0c, 
// 	0x18, 0x10, 0x00, 0x00, 0x00, 0xfc, 0xfc, 0x0c, 0x0c, 0x0c, 0x0c, 0x9c, 0xf8, 0x60, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xf0, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 
// 	0xff, 0xff, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0x03, 0x03, 
// 	0x03, 0x07, 0x1f, 0x79, 0xe1, 0xc0, 0x80, 0x0f, 0x3f, 0x70, 0x60, 0xc0, 0xc0, 0xc6, 0xc6, 0xc6, 
// 	0x7e, 0x7e, 0x00, 0x00, 0x00, 0xff, 0xff, 0xc3, 0xc3, 0xc3, 0xc3, 0xc3, 0x66, 0x7e, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x20, 0x20, 0x30, 0x3c, 0x3c, 0x3e, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 0x3f, 
// 	0x3f, 0x3f, 0x3f, 0x3f, 0x3e, 0x3c, 0x3c, 0x30, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
// 	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
// };

bool oled_task_user(void) {
    // Host Keyboard Layer Status
    switch (get_highest_layer(layer_state)) {
        case 0:
				render_anime1();
			break;
        case 1:
			render_anime2();
			reset_anim1();
			break;
        case 2:
            oled_write_raw_P(rhodes_Fn,sizeof(rhodes_Fn));
			reset_anim1();
			break;
    }

   return false;
}
#endif